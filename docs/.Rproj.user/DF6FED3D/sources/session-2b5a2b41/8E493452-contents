---
title: "X3098 Pavlovia Surveys Workshop"
author: "Dr Lorna Camus"
date: 10/30/25
date-format: "[Week 8,] Do [& 31st] MMMM YYYY"
format: 
  html:
    toc: true
    toc-location: left
    link-external-icon: true
    link-external-newwindow: true
lightbox: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

This workbook and accompanying brief will walk you through how to create a simple survey in Pavlovia.

[Pavlovia](https://pavlovia.org/dashboard?tab=0) is an online platform for hosting surveys and experiments for research.

You should have set up your account this week but if you have any issues with logins let us know.

There is a table of contents on the left to help you navigate this workbook - clicking on a section in the table will take you to the section and display subheadings within this section.
You can also click on pictures to zoom in on them.

## Research brief {#sec-brief}

[either paste or link to Sian's brief?]

## Survey creation {#sec-creation}

Go to [https://gitlab.pavlovia.org/users/sign_in](https://gitlab.pavlovia.org/users/sign_in) and sign into your account.

Once you are signed into Pavlovia, you will land on your Dashboard, where you can see all your account's details.
For the purposes of creating a survey, we are only interested in the <code style="color: #4d4d4d;">Surveys</code> tab (see picture below, in the red box). Click on the <code style="color: #4d4d4d;">Surveys</code> tab to start.

``` {r, fig.cap = "Step 1", fig.alt = "Step 1 picture: A screenshot of the Pavlovia dashboard, it shows the user's profile. The screenshot is edited to highlight the Surveys tab that needs to be clicked to proceed.", label = "1.1", echo = F}
knitr::include_graphics("1.1.png")
```

Once in the <code style="color: #4d4d4d;">Surveys</code> tab, you will see options to create or import surveys. 
Click on the <code style="color: green;">New survey</code> button as shown in the picture below.

``` {r, fig.cap = "Step 2", fig.alt = "Step 2 picture: A screenshot of the Pavlovia Surveys options. The screenshot is edited to highlight the New Survey button that needs to be clicked to proceed.", label = "1.2", echo = F}
knitr::include_graphics("1.2.png")
```

A new window will appear - input a survey name (box 1 in picture below) and click the <code style="color: green;">Create survey</code> button (box 2) when you're done.

``` {r, fig.cap = "Step 3", fig.alt = "Step 3 picture: A screenshot of the Pavlovia Surveys options. The screenshot is edited to highlight the survey name box and Create survey button.", label = "1.3", echo = F}
knitr::include_graphics("1.3.png")
```

Once your new survey is created, click on it - a green arrow button will appear on the right (see box in picture below).
Click this button to open the survey in a new window to start designing it.

``` {r, fig.cap = "Step 4", fig.alt = "Step 4 picture: A screenshot of the Pavlovia Surveys options. The screenshot is edited to highlight the green arrow button that needs to be clicked to proceed.", label = "1.4", echo = F}
knitr::include_graphics("1.4.png")
```

::: {.callout-note icon=false}
### Activity

Create a survey in Pavlovia. Give it a name and open it.
:::

::: {.callout-tip collapse="true"}
### Solution

[Screenshot of new survey.] Might not be necessary
:::

## Survey design {#sec-design}

Once you open your new survey, you will be directed to the survey designer as pictured below.

``` {r, fig.cap = "Survey designer", fig.alt = "Survey designer picture: A screenshot of the Pavlovia Survey designer. The screenshot is edited to highlight the question toolbox on the left, the main designer window in the middle, and the survey settings button on the right.", label = "3.1", echo = F}
knitr::include_graphics("2.1.png")
```

The <code style="color: #4d4d4d;">Designer</code> tab provides you with an interface to allow you to click or drag options for your survey.
The main window (displaying the message "The survey is empty. Drag an element from the toolbox or click the button below." in the picture above) is where survey questions are displayed and edited.
On the left is the "toolbox" column, with different question options that you can drag into the main window.

The <code style="color: #4d4d4d;">Preview</code> tab is where you can preview your survey as you design it (see @sec-preview for more details).

The <code style="color: #4d4d4d;">Logic</code> tab can be used to set up and see survey logics, which is covered in @sec-consent.

The <code style="color: #4d4d4d;">JSON Editor</code> tab is for advanced editing using the survey's source code (not required here).

All the way to the right is also the Survey settings column (highlighted in the picture), with Undo and Redo arrows to the left of it.

Above that are the survey management buttons:

* Save: click this to save your survey - make sure you do so regularly.
* Undo: Click this to undo your last action.
* Download: click this to download your survey, which allows you to import it into Pavlovia and use it in online PsychoPy experiments.

As you edit your survey and click on different components of your survey (pages, questions, etc.), the settings panel will update to display the settings for the corresponding component.

### Survey structure {#sec-structure}

Pavlovia surveys have a specific structure to enable options such as survey logics and branching.

A survey is composed of questions contained in different pages.

Once you add your first question in your survey, new design and structure options will appear (see picture below).

``` {r, fig.cap = "Survey structure", fig.alt = "Survey structure picture: A screenshot of the Pavlovia Survey designer, and specifically of the survey structure. The screenshot is edited to highlight the different survey options.", label = "2.1b", echo = F}
knitr::include_graphics("2.1b.jpeg")
```

You can change your survey title and add a description (box 1).
These will be seen by the participant and should therefore be clear and informative.

You will also see you now have a Page 1 and a Page 2, which can be renamed (box 2).
These names will also be visible to participants.

If you click on a page (rather than on a question), you will also see buttons for page options (box 3).
These options are similar to question options:

* Duplicate: Creates a copy of the current page below.
* Settings : Accesses the page settings panel on the right.
* Delete: Deletes the page.

As with questions, the interface looks slightly different on wider displays.
The settings button for pages is not available, and instead the settings panel is automatically open on the right of the interface.

To create a new page, click on the Survey settings button, find the <code style="color: #4d4d4d;">Pages</code> tab, then click the <code style="color: #4d4d4d;">+</code> button to add a new page.
See the recording below for a demonstration.

``` {r survey1, echo=F}
#remotes::install_github("mccarthy-m-g/embedr")
embedr::embed_video("survey1.mp4", "mp4")
```

<br> Questions within the same page will be displayed to participants at the same time, unless some questions are part of a logic.

### Question types {#sec-qtypes}

There are many question types in Pavlovia surveys, which you can find in the toolbox on the left of the survey designer.

The pictures below show what question types are available.
Clicking the three dots button (red box in the second picture) will display extra question types.

``` {r, fig.cap = "Question types", fig.alt = "Question types picture: A screenshot of the Pavlovia Survey designer, and specifically the sidebar on the left with the different question types that can be added to the survey.", label = "3.2", echo = F}
knitr::include_graphics("2.2.png")
```

``` {r, fig.cap = "Question types continued", fig.alt = "Question types continued picture: A screenshot of the Pavlovia Survey designer, and specifically the sidebar on the left with the different question types that can be added to the survey. The screenshot is edited to highlight the 3 dots button which shows the rest of the questions available", label = "3.2b", echo = F}
knitr::include_graphics("2.2b.png")
```

The question types available are described below, however I recommend playing around with different types to see what suits your needs best.

* Radio Button Group: Multiple-choice question where only one answer is allowed.
* Rating Scale: Single-question, Likert-type scale answer.
* Checkboxes: Multiple-choice question where multiple answers are allowed.
* Dropdown: Multiple-choice question where one answer can be selected from a dropdown menu.
* Multi-Select Dropdown: Multiple-choice question where multiple answers can be selected from a dropdown menu.
* Yes/No (Boolean): Dichotomous answer (e.g. Yes/No) - does not allow for more options.
* File Upload: Allows respondents to upload a file.
* Image Picker: Respondents choose an image or video out of many.
* Ranking: Allows respondent to rank different answers.
* Single-Line Input: Allows for a one-line text entry.
* Long Text: Allows for a multi-line text entry.
* Multiple Textboxes: Creates a question with multiple single-line input textboxes.
* Panel: Creates a form made up of multiple questions of any type.
* Dynamic Panel: Creates a form made up of multiple questions of any type, which can be expanded by the participant.
* Single-Select Matrix: Creates a matrix of multiple-choice questions with the same set of answers - typically used for questionnaires with multiple questions and Likert-type scale answers. Only allows one answer per row.
* Multi-Select Matrix: Same as single-choice matrix but allows multiple answers per row.
* Dynamic Matrix: Used to get a Multiple-Choice Matrix without a column of items.
* HTML: Allows user to create and display text. Typically used to display information and debrief documents or other standalone text (not questions/answers).
* Expression (read-only): Used to calculate a value for later use in the survey - there is no question.
* Image: Displays an image, video or Youtube video (via link) - there is no question.
* Signature: Allows respondents to draw their response.
  
To add a new question, click on "Add question" or on any of the question icons in the toolbox.
You can also drag the question icon anywhere on the survey to place a new question where you need in the survey.

Each question has the same structure and options (see picture below):

* The button to move the question around - to move the question to different parts of the survey, just click and hold that button and drag the question to the desired area (box 1).
* The question field, where the question to participants is inserted (box 2).
* The question's content, which will vary based on the question type (box 3). In this case, a radiogroup-type question has been selected and so we see fields for the multiple answers you can create.
* The question type button - this both informs you of the question's type, and allows you to change it to another type. Just click the button and select a different type from the drop-down menu (box 4).
* The question options (box 5) - these 4 buttons allow you to change the question's settings:
  + Duplicate - this allows you to make an exact copy of the question, which will be created below the copied question.
  + Settings - this button opens the settings menu for this question. This is where you will find options to change the name of the question, the questions content (in more detail than what is possible in the main window), the question's logic, settings relating to the question's data, and finally the question's validation.
  + Required - this button makes the question unskippable, as an answer is required from participants to continue with the survey.
  + Delete - deletes the question.

``` {r, fig.cap = "Question structure", fig.alt = "Question structure picture: A screenshot of the Pavlovia Survey designer, and specifically of a newly added question. The screenshot is edited to highlight the different question options explained above.", label = "3.3", echo = F}
knitr::include_graphics("2.3.jpeg")
```

The interface for questions will look slightly different if you have a wider display.
The settings panel will be open automatically on the right side of the interface, and the settings button present on the question on smaller displays will not be there.
The question toolbox will also display more questions and their names as there is more space on the screen.

### Naming your questions {#sec-names}
If you check under the <code style="color: #4d4d4d;">General</code> tab of any question's settings, you will see a box titled <code style="color: #4d4d4d;">Name</code>.
Do not ignore this - make sure you give each of your questions a recognisable and understandable short name (for example, your consent form can be named `consent`, and a question on personality might be `perso`).

**Be careful not to use any spaces, punctuation (full stops, commas, etc.) or special characters (&, £, # etc.) as this breaks the survey and it will not record any data.**
For example, `child.consent 2` is not a good name, instead use something like `ChildConsent2`.

Naming your questions will make navigating your survey, and setting up things such as logics much easier, as questions are referenced and referred to by this name within the survey.
Participants cannot see this name, but it will make your life easier.

**Do not change the question name after data collection has started, as this will mess up your final data file.**
The platform will save data from this question under two column titles, the pre-change title of the question, and the post-change title of the question.
This means your data will be split, and if you don't know what the question was called originally, you won't be able to match cases (and will end up with unusable data).
If you need to change the name of your questions but have already started data collection, you will need to make that change in your data file once it has been downloaded.

### Change how a response is recorded {#sec-responses}
In a matrix question's settings, the <code style="color: #4d4d4d;">Columns</code> and <code style="color: #4d4d4d;">Rows</code> tabs will allow you to modify the matrix's columns and rows.
This includes what text participants will see in the matrix's columns and rows (see picture below, box 2), and how a participant's response will be saved as in your final data file (box 1).

``` {r, fig.cap = "Naming matrix columns and rows", fig.alt = "A screenshot of the Pavlovia survey designer, showing the Settings panel for a matrix question. It highlights where to change how a response is saved (box 1) and the text participants will see (box 2).", label = "9.1", echo = F}
knitr::include_graphics("3.1.PNG")
```

In the example above, participants will see the text on the right (in box 2), and the text on the left (box 1) is how the response will be recorded for that row. 
The same applies to columns.

One way to use this is to record scores rather than text (for example).
If your matrix question is a questionnaire, with a Likert-type scale in the columns, you can put the equivalent score on the left and the appropriate text on the right (e.g. for column 1, you would write `1` in box 1, and `Not at all` in box 2).

The same can be done for the choices of Radio Button Group, Checkboxes, Dropdown, Ranking and Multiple Textboxes questions.
In either type of question's settings, the <code style="color: #4d4d4d;">Choices</code> tab will have the same structure, with the text on the left being how a response is recorded, and the text on the right being what participants are shown.

## Making your survey {#sec-content}

### Survey preview {#sec-preview}
You can see what your survey looks like as you are designing it by clicking on the <code style="color: #4d4d4d;">Preview</code> tab (next to the <code style="color: #4d4d4d;">Designer</code> tab, see picture below).

``` {r, fig.cap = "Survey Preview tab", fig.alt = "Survey Preview tab picture: A screenshot of the Pavlovia Survey Preview. The screenshot is edited to highlight where the Preview tab is situated.", label = "3.8", echo = F}
knitr::include_graphics("4.1.jpeg")
```

There, you will be able to go through your survey to see how it will be presented to participants.
You will also be able to test logics you have put in place.

This is different to piloting your survey, which you can also do to ensure your survey is working the way you want it (this will not enable participants to see the survey, but rather will allow you to test it yourself).
More details on your survey's status (including the Piloting status) can be found @sec-status.

### Getting informed consent {#sec-consent}

Any surveys you are creating to collect data for a study will need the first page to be an information sheet and consent form for participants to provide informed consent to participate.

Additionally, the survey should automatically end if participants choose not to consent.

Below is a video demonstrating the whole process, and written instructions can be found after the video.

``` {r example1a, echo=F}
embedr::embed_video("example1a.mp4", "mp4")
```

<br> 

#### Creating the information sheet and consent form {#sec-info}
To do this, make the first Page of your survey the information and consent page.
To create an information sheet, you will need an HTML question to create a question with text that does not require an answer.
Add a new question, select the HTML question type in the dropdown menu and name the question.

To create/edit the text of an HTML question, you need to go in that question's settings.
In the <code style="color: #4d4d4d;">General</code> tab of these settings, you will find a box titled "HTML markup" - this is where we will copy our information sheet.

However, any text copied as is in this box will lose formatting, as this question requires HTML formatting to have paragraphs or bold/italicised text for example.
You can learn a little bit of HTML to understand how to format your text for Pavlovia [here](https://www.w3schools.com/html/default.asp), or use a [text to HTML converter](https://wordtohtml.net/) to copy in your information sheet from Word, and get the HTML equivalent.
For this workshop, we will use the converter.

All you need to do then is copy then paste the HTML text into the "HTML markup" box as described above.
Once you have done so, the HTML question in the survey designer will update with your text.
Please be aware that using a converter is not fool-proof, and you may lose some content (such as hyperlinks) - once you paste the HTML text into Pavlovia, please double check that everything looks as you want it.

If your text does not look the way you want, consult the HTML tutorial linked above to see if any of the formatting needs edited.
If you are still having issues, ask for help.

::: {.callout-note icon=false}
##### Activity

Follow the instructions above to create your information sheet using an HTML question and the text to HTML converter.
:::

::: {.callout-tip collapse="true"}
##### Solution

[Screenshot of html question/information sheet]
[could include collapsible code of html version of info sheet that can be copied directly]
:::

Now that the information sheet is done, you will need to create your consent form below.
The best way to do this is to create another HTML question with all your consent statements, and a second, Radio Button Group question underneath with two options: consent and no consent.
I will walk through how to do this below.

On the same page as your information sheet, create a new question below and select HTML.
Give your question a name, then paste in your consent statements in the HTML markup box of the question's settings.
Below this question, create a new question and select Radio Button Group, then give it a name.

You will only need 2 items for this question so click on the minus button next to item 3 to delete it.
Now you can edit items 1 and 2 to show the consent options  "I have read the statements and consent to participate" and "I do not consent to participate" (or similar wording).

Since this question is related to the statements in the question above, it does not necessarily need a title - to hide the title, navigate to the <code style="color: #4d4d4d;">Layout</code> tab of the question's settings.
Find the <code style="color: #4d4d4d;">Title location</code> heading, and select `Hidden` in the dropdown menu below it.
Finally, make sure you make this question required so participants cannot skip it.

::: {.callout-note icon=false}
##### Activity

Follow the instructions above to create your consent questions using an HTML question and a Radio Button Group question.
:::

::: {.callout-tip collapse="true"}
##### Solution

[Screenshot of consent questions]
:::

#### Creating the skip logic {#sec-skip}

Now that our information sheet and consent form are created, we need to put a skip logic in place so that participants who do not consent are sent to the end of the survey.
To do this, we will redirect participants to a standard end-of-survey screen, which allows participants to complete the survey and saves the responses they did complete (the consent form).

Please make sure that the logic is working before starting data collection (i.e. if participants do not consent to participate, they are redirected to the end of the survey). 

Putting this logic in place will depend on how you have set up your consent form (for this example we will use the same set up as @sec-info).
You can find a video demonstration below, after the text explanation.

First, go to the <code style="color: #4d4d4d;">Logic</code> tab and click the <code style="color: DodgerBlue;">Add New Rule</code> button.
Once there, we will add a condition for this logic as follows:

Click the <code style="background-color: RoyalBlue; color: white ">Select</code> button to set which question this logic is dependent on.
Select the question with the consent options (mine is called `consent2`).
Click the <code style="background-color: DarkOrange; color: white ">Equals</code> button as you need to change what state needs to be met for the logic to work.
In this example, we don't want a specific answer ("I do not consent to participate.") and we don't want an empty response either, so we need to choose "Does not equal".

You can now select which answer will lead to the survey ending.
Here we want the first answer ("I have read the statements and consent to participate.").
We are telling Pavlovia that if a participant's answer is not the first choice (so is either the second choice or empty) then they have not consented and we want them to be directed to the end of the survey.

Now we need to set up what happens when the above conditions are met.
Click the <code style="background-color: Crimson; color: white ">Select action...</code> button and select `Complete survey`.
This means that when participants don't consent, the survey completes rather than continuing to the rest of the questions.

Once this is done, you can click <code style="background-color: DodgerBlue; color: white ">Done</code> and the logic will be set.

Before we can test whether this works, we will need to create a new page in the survey.
Return to the <code style="color: #4d4d4d;">Designer</code> tab and scroll to the bottom of your survey - you should find a Page 2 there.
Click the <code style="color: DodgerBlue;">Add Question</code> button in Page 2 to create a new question in a new page - you don't need to edit that question yet.

::: {.callout-note icon=false}
##### Activity

Follow the instructions above to create the skip logic for participants who do not consent to participate.
Once you're done, preview your survey to check everything works.
:::

::: {.callout-tip collapse="true"}
##### Solution

[Screenshot of logic]
:::

Before sending the survey out, make sure this logic works so you're certain non-consenting participants will not see the rest of your survey.

``` {r example1b, echo=F}
embedr::embed_video("example1b.mp4", "mp4")
```

### Adding your questions {#sec-questions}

Now that your informed consent is set up, you can return to Page 2 to add your survey questions.
[add text/instructions on how to add different questions - wait for brief from Sian]

::: {.callout-note icon=false}
#### Activity

Following the instructions above, create the questions from the brief....
Once you're done, preview your survey to check everything works.
:::

::: {.callout-tip collapse="true"}
#### Solution

[Screenshot of questions]
:::

### Adding a debrief sheet {#sec-debrief}

Now that your survey questions are ready, the last thing to add is your debrief sheet.
Scroll down to the bottom of your survey - you should find a Page 3 there.
Click the <code style="color: DodgerBlue;">Add Question</code> button in Page 3 to create a new question in a new page, then change the question type to HTML.

Similarly to how we created our information sheet, we will copy our debrief sheet text and convert it to HTML using the [converter](https://wordtohtml.net/).
Once you have converted the text to HTML, copy and paste it into the HTML questions <code style="color: #4d4d4d;">HTML markup</code> box.

As with the information sheet, check to make sure your text has converted properly.
If your text does not look the way you want, consult the [HTML tutorial](https://www.w3schools.com/html/default.asp) to see if any of the formatting needs edited.
If you are still having issues, ask for help.

::: {.callout-note icon=false}
#### Activity

Following the instructions above, create the debrief sheet using an HTML question.

You now should have your full survey. Before starting testing and data collection, make sure your questions are named properly (see @sec-names) and that your responses are recorded properly (see @sec-responses).

Once you're done, preview your survey to check everything works.
:::

::: {.callout-tip collapse="true"}
#### Solution

[Screenshot of debrief sheet/question]
:::

## Running the survey {#sec-run}

### Survey status {#sec-status}

To access your survey's status, click the <code style="color: #4d4d4d;">Overview</code> tab at the top of the page, to the left of the <code style="color: #4d4d4d;">Design</code> tab (when opening a survey you will be automatically directed to the <code style="color: #4d4d4d;">Design</code> tab - see picture below, box 1).

``` {r, fig.cap = "Survey status", fig.alt = "Survey status picture: A screenshot of the survey designer window, highlighting which button to click to access the survey status options.", label = "5.2", echo = F}
knitr::include_graphics("5.1.png")
```

A Pavlovia survey has 3 statuses, which you can see in the Status area of the Overview page (picture above, box 2):

* Inactive - this is the status the survey is on upon creation and by default. Set the survey to this status when you are designing it.
* Piloting - this is the status you should use to test how your survey is working. You will not be able to share the survey with participants and **data will not be collected**, but will be able to check that your survey is working as intended.
* Running - this is the status used to activate the survey and enable data collection. Setting the survey to running will provide you with a link to share with participants (see picture above, box 3).

You can move between the different statuses freely, however be aware that moving from the Running status to either of the other two will prevent participants from continuing to run your survey.

::: {.callout-note icon=false}
#### Activity

Set your survey to Running and test your survey using the survey link provided by Pavlovia
:::

::: {.callout-tip collapse="true"}
#### Solution

[Screenshot of running button and of survey running]
:::

## Survey data {#sec-data}

You can see your collected data by accessing the <code style="color: #4d4d4d;">Responses</code> tab, which you can find to the right of the <code style="color: #4d4d4d;">Design</code> tab (see picture below, box 1).

In the <code style="color: #4d4d4d;">Responses</code> tab, you can download your data by clicking the <code style="color: green;">Download responses</code> button (box 2 pictured below).
Your data will be downloaded as a .csv file, which you can open in Microsoft Excel and your chosen analysis software (SPSS, jamovi, JASP, R, etc.).

You can also see some information about the survey's responses below (box 3 pictured below). 

``` {r, fig.cap = "Survey Responses tab", fig.alt = "Survey Responses tab picture: A screenshot of the Pavlovia survey designer, showing the Responses tab. It highlights where to find the tab and the different .", label = "7.1", echo = F}
knitr::include_graphics("6.1.jpeg")
```

::: {.callout-note icon=false}
### Activity

Run your survey multiple times to collect data, then access the survey's data to see your results.
:::

::: {.callout-tip collapse="true"}
### Solution

[Screenshot of results page]
:::